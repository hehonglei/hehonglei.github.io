<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      常用的正则表达式! &middot; 可了头i的博客
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/naringu.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/form.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="shortcut icon" href="./public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="Mozilla RSS" href="feed.category.xml">
  </head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48740529-1', 'auto');
  ga('send', 'pageview');

</script>


<body class="theme-6dd">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
      <img width="125" height="125" alt="A photo of ariestiyansyah" src="/images/head.jpeg">
    <p>oonlab is crafted with <3 by ariestiyansyah.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/categories/">Category Index</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/contact/">Contact</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="http://github.com">GitHub project</a>
    <span class="sidebar-nav-item">Version 2.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">可了头i的博客</a>
            <small>A GOOD MAN</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">常用的正则表达式!</h1>
  <span class="post-date">09 Mar 2014</span>
  <p>校验密码强度
密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="o">^</span><span class="p">(</span><span class="sc">?=</span><span class="p">.</span><span class="nf">*</span><span class="p">\\</span><span class="n">d</span><span class="p">)(</span><span class="sc">?=</span><span class="p">.</span><span class="nf">*</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="p">])(</span><span class="sc">?=</span><span class="p">.</span><span class="nf">*</span><span class="p">[</span><span class="no">A</span><span class="o">-</span><span class="no">Z</span><span class="p">])</span><span class="o">.</span><span class="p">{</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">}</span><span class="err">$</span></code></pre></figure>

<p>校验中文
字符串仅能是中文。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="o">^</span><span class="p">[\\</span><span class="n">u4e00</span><span class="o">-</span><span class="p">\\</span><span class="n">u9fa5</span><span class="p">]{</span><span class="mi">0</span><span class="p">,}</span><span class="err">$</span></code></pre></figure>

<p>由数字、26个英文字母或下划线组成的字符串</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="o">^</span><span class="p">\\</span><span class="n">w</span><span class="o">+</span><span class="err">$</span></code></pre></figure>

<p>校验E-Mail 地址
同密码一样，下面是E-mail地址合规性的正则检查语句。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="p">[\\</span><span class="n">w!</span><span class="c1">#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</span></code></pre></figure>

<p>校验身份证号码
下面是身份证号码的正则校验。15 或 18位。
15位：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]\\</span><span class="n">d</span><span class="p">{</span><span class="mi">7</span><span class="p">}((</span><span class="mi">0</span><span class="p">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">]))(([</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="p">]\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="mi">3</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="p">])\\</span><span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span><span class="err">$</span></code></pre></figure>

<p>18位：</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]\\</span><span class="n">d</span><span class="p">{</span><span class="mi">5</span><span class="p">}[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]\\</span><span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">}((</span><span class="mi">0</span><span class="p">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">]))(([</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="p">]\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="mi">3</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">1</span><span class="p">])\\</span><span class="n">d</span><span class="p">{</span><span class="mi">3</span><span class="p">}([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="no">X</span><span class="p">)</span><span class="err">$</span></code></pre></figure>

<p>校验日期
“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">(</span><span class="sc">?:</span><span class="p">(?</span><span class="o">!</span><span class="mo">0000</span><span class="p">)[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]{</span><span class="mi">4</span><span class="p">}</span><span class="o">-</span><span class="p">(</span><span class="sc">?:</span><span class="p">(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">-</span><span class="p">(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">8</span><span class="p">])</span><span class="o">|</span><span class="p">(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">13</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span><span class="o">-</span><span class="p">(?:</span><span class="mi">29</span><span class="o">|</span><span class="mi">30</span><span class="p">)</span><span class="o">|</span><span class="p">(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">13578</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">[</span><span class="mo">02</span><span class="p">])</span><span class="o">-</span><span class="mi">31</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="sc">?:</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]{</span><span class="mi">2</span><span class="p">}(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">48</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mi">2468</span><span class="p">][</span><span class="mo">04</span><span class="mi">8</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mi">13579</span><span class="p">][</span><span class="mi">26</span><span class="p">])</span><span class="o">|</span><span class="p">(?:</span><span class="mi">0</span><span class="p">[</span><span class="mi">48</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mi">2468</span><span class="p">][</span><span class="mo">04</span><span class="mi">8</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mi">13579</span><span class="p">][</span><span class="mi">26</span><span class="p">])</span><span class="mo">00</span><span class="p">)</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="mi">29</span><span class="p">)</span><span class="err">$</span></code></pre></figure>

<p>校验金额
金额校验，精确到2位小数。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">(.</span><span class="nf">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]{</span><span class="mi">2</span><span class="p">})</span><span class="sc">?$</span></code></pre></figure>

<p>校验手机号
下面是国内 13、15、18开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">(</span><span class="mi">13</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">14</span><span class="p">[</span><span class="mi">5</span><span class="o">|</span><span class="mi">7</span><span class="p">]</span><span class="o">|</span><span class="mi">15</span><span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="o">|</span><span class="mi">5</span><span class="o">|</span><span class="mi">6</span><span class="o">|</span><span class="mi">7</span><span class="o">|</span><span class="mi">8</span><span class="o">|</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">18</span><span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="o">|</span><span class="mi">5</span><span class="o">|</span><span class="mi">6</span><span class="o">|</span><span class="mi">7</span><span class="o">|</span><span class="mi">8</span><span class="o">|</span><span class="mi">9</span><span class="p">])\\</span><span class="n">d</span><span class="p">{</span><span class="mi">8</span><span class="p">}</span><span class="err">$</span></code></pre></figure>

<p>判断IE的版本
IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">.</span><span class="nf">*</span><span class="no">MSIE</span> <span class="p">[</span><span class="mi">5</span><span class="o">-</span><span class="mi">8</span><span class="p">](</span><span class="sc">?:</span><span class="p">\\.</span><span class="nf">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">)</span><span class="sc">?(?!</span><span class="p">.</span><span class="nf">*</span><span class="no">Trident</span><span class="p">\\</span><span class="sr">/[5-9]\\.0).*$</span></code></pre></figure>

<p>校验IP-v4地址
IP4 正则语句。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="p">\\</span><span class="n">b</span><span class="p">(</span><span class="sc">?:</span><span class="p">(?:</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mo">01</span><span class="p">]?[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="sc">?)</span><span class="p">\\</span><span class="o">.</span><span class="p">){</span><span class="mi">3</span><span class="p">}(?:</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="mo">01</span><span class="p">]?[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="sc">?)</span><span class="p">\\</span><span class="n">b</span></code></pre></figure>

<p>校验IP-v6地址
IP6 正则语句。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="p">(([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">}</span><span class="ss">:|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">}:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">}(:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}(:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">}</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">}(:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">}(:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:((:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">})</span><span class="o">|</span><span class="p">:((:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">}</span><span class="o">|</span><span class="p">:)</span><span class="o">|</span><span class="n">fe80</span><span class="p">:(:[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">}</span><span class="o">%</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="no">Z</span><span class="p">]{</span><span class="mi">1</span><span class="p">,}</span><span class="o">|::</span><span class="p">(</span><span class="n">ffff</span><span class="p">(:</span><span class="mi">0</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}:){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}((</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">])\\</span><span class="o">.</span><span class="p">){</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">}(</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">])</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">fA</span><span class="o">-</span><span class="no">F</span><span class="p">]{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:){</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">}:((</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">])\\</span><span class="o">.</span><span class="p">){</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">}(</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="p">(</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="o">|</span><span class="mi">1</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]){</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">}[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]))</span></code></pre></figure>

<p>检查URL的前缀
应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">s</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="sr">/^[a-zA-Z]+:\\/</span><span class="p">\\</span><span class="sr">//</span><span class="p">))</span> <span class="p">{</span>    <span class="n">s</span> <span class="o">=</span> <span class="s1">'http://'</span> <span class="o">+</span> <span class="n">s</span><span class="p">;}</span></code></pre></figure>

<p>提取URL链接
下面的这个表达式可以筛选出一段文本中的URL。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">  <span class="o">^</span><span class="p">(</span><span class="n">f</span><span class="o">|</span><span class="n">ht</span><span class="p">){</span><span class="mi">1</span><span class="p">}(</span><span class="n">tp</span><span class="o">|</span><span class="n">tps</span><span class="p">):\\</span><span class="sr">/\\/</span><span class="p">([\\</span><span class="n">w</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="p">\\</span><span class="o">.</span><span class="p">)</span><span class="o">+</span><span class="p">[\\</span><span class="n">w</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="p">(\\</span><span class="sr">/[\\w- ./</span><span class="sc">?%</span><span class="o">&amp;=</span><span class="p">]</span><span class="o">*</span><span class="p">)?</span>  </code></pre></figure>

<p>文件路径及扩展名校验
验证windows下文件路径和扩展名（下面的例子中为.txt文件）</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">([</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="no">Z</span><span class="p">]\\</span><span class="ss">:|</span><span class="p">\\\\)\\\\([</span><span class="o">^</span><span class="p">\\\\]</span><span class="o">+</span><span class="p">\\\\)</span><span class="o">*</span><span class="p">[</span><span class="o">^</span><span class="p">\\</span><span class="sr">/:*?"&lt;&gt;|]+\\.txt(l)?$</span></code></pre></figure>

<p>提取Color Hex Codes
有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">     <span class="o">^</span><span class="c1">#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$</span></code></pre></figure>

<p>提取网页图片
假若你想提取网页中所有图片信息，可以利用下面的表达式。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="p">\\</span><span class="o">&lt;</span> <span class="o">*</span><span class="p">[</span><span class="n">img</span><span class="p">][</span><span class="o">^</span><span class="p">\\\\</span><span class="o">&gt;</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="n">src</span><span class="p">]</span> <span class="o">*=</span> <span class="o">*</span><span class="p">[\\</span><span class="s2">"</span><span class="se">\\</span><span class="s2">']{0,1}([^</span><span class="se">\\</span><span class="s2">"</span><span class="p">\\</span><span class="err">'</span><span class="p">\\</span> <span class="o">&gt;</span><span class="p">]</span><span class="o">*</span><span class="p">)</span></code></pre></figure>

<p>提取页面超链接
提取html中的超链接。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="p">(</span><span class="o">&lt;</span><span class="n">a</span><span class="p">\\</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="sc">?!</span><span class="p">.</span><span class="nf">*</span><span class="p">\\</span><span class="n">brel</span><span class="o">=</span><span class="p">)[</span><span class="o">^&gt;</span><span class="p">]</span><span class="o">*</span><span class="p">)(</span><span class="n">href</span><span class="o">=</span><span class="s2">"https?:</span><span class="se">\\</span><span class="s2">/</span><span class="se">\\</span><span class="s2">/)((?!(?:(?:www</span><span class="se">\\</span><span class="s2">.)?'.implode('|(?:www</span><span class="se">\\</span><span class="s2">.)?', $follow_list).'))[^"</span><span class="p">]</span><span class="o">+</span><span class="p">)</span><span class="s2">"((?!.*</span><span class="se">\\</span><span class="s2">brel=)[^&gt;]*)(?:[^&gt;]*)&gt;</span></code></pre></figure>

<p>查找CSS属性
通过下面的表达式，可以搜索到相匹配的CSS属性。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">    <span class="o">^</span><span class="p">\\</span><span class="n">s</span><span class="o">*</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="no">Z</span><span class="p">\\</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="p">\\</span><span class="n">s</span><span class="o">*</span><span class="p">[:]{</span><span class="mi">1</span><span class="p">}\\</span><span class="n">s</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="no">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">\\</span><span class="n">s</span><span class="o">.</span><span class="c1">#]+[;]{1}</span></code></pre></figure>

<p>抽取注释
如果你需要移除HMTL中的注释，可以使用如下的表达式。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">     <span class="o">&lt;!--</span><span class="p">(.</span><span class="nf">*</span><span class="sc">?)</span><span class="o">--&gt;</span></code></pre></figure>

<p>匹配HTML标签
通过下面的表达式可以匹配出HTML中的标签属性。</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby">   <span class="o">&lt;</span><span class="p">\\</span><span class="sr">/?\\w+((\\s+\\w+(\\s*=\\s*(?:".*?"|'.*?'|[\\^'"&gt;\\s]+))?)+\\s*|\\s*)\\/</span><span class="sc">?&gt;</span></code></pre></figure>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/mvc/2016/09/01/mvc-talk-lightly/">
            浅谈MVC架构模式分析与设计
            <small>01 Sep 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/php/2016/08/05/php-thing/">
            PHP事物处理
            <small>05 Aug 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/php/2016/08/03/magic-methods/">
            PHP魔术方法
            <small>03 Aug 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<div class="comments">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'testnaringu';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'testnaringu';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

    <div align="center" class="footer">
        <a href="https://github.com/ariestiyansyah/naringu" target="_blank" title="naringu">Naringu</a>  is designed by Rizky Ariestiyansyah<br />Copyright © 2016 <br>
    </div>
  </body>
</html>

